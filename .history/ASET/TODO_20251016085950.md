# ğŸ“ TODO List - Proyek Website Organisasi Sekolah

Laravel + SQLite + Bootstrap + HTML + CSS + JS

---

## ğŸ”¹ Tahap 0 â€“ Persiapan (0â€“10%)

- [âœ…] Pahami ketentuan UKK dan tema project (Website Organisasi Sekolah).
- [âœ…] Catat kriteria penilaian: Penguasaan materi, fungsionalitas, tampilan.
- [âœ…] Siapkan tools & environment:
  - [âœ…] Install PHP & Composer. (PHP 8.3.11) & (Composer version 2.8.9)
  - [âœ…] Install Laravel (versi stabil LTS).
  - [âœ…] Pastikan SQLite siap digunakan.
  - [âœ…] Siapkan text editor (VS Code).
  - [âœ…] Siapkan Git & GitHub repo (opsional).
- [âœ…] Buat folder kerja khusus proyek.

---

## ğŸ”¹ Tahap 1 â€“ Perancangan Sistem (10â€“25%)

- [âœ…] Buat **Flowchart / DFD** alur sistem:

  - [âœ…] Login â†’ Dashboard â†’ CRUD Data (Anggota, Rapat, Program Kerja, Notulen, Evaluasi) â†’ Laporan.
  - [âœ…] Diagram kontekstual (level 0) + DFD level 1 untuk tiap proses utama.

- [âœ…] Buat **ERD (Entity Relationship Diagram)** untuk database:

  - Hubungkan tabel dengan relasi (1â€“N atau Nâ€“N bila perlu).
  - Gunakan tools (dbdiagram.io, draw.io, Lucidchart, atau kertas).

- [âœ…] Tentukan tabel & atribut utama:
  - Modul Program Kerja - Audit + Perbaikan
1. Ringkasan Audit Singkat
File yang dicek: app/Http/Controllers/ProgramKerjaController.php, app/Models/ProgramKerja.php, database/migrations/2025_09_30_064935_create_program_kerja_table.php, resources/views/program_kerja/*, database/seeders/ProgramKerjaSeeder.php, routes/web.php.

Temuan:

Migration: OK, field sesuai (id string primary, nama, deskripsi nullable, penanggung_jawab_id foreign ke anggota, status enum ['belum','berlangsung','selesai'] default 'belum').
Model: OK, fillable benar, $incrementing = false, $keyType = 'string', relasi ke Anggota (belongsTo), Evaluasi (hasMany), Dokumentasi (hasMany), Notulen (hasMany + hasOne latestOfMany).
Controller: CRUD lengkap, validasi input ada, ID auto-generate PRK001 dst. Relasi update di update() ada (reset null lalu hubungkan), DB transaction ada. Tapi di destroy() tidak ada handling relasi (set null atau hapus).
Views: index, create, edit, show lengkap, Bootstrap konsisten, tab untuk notulen/dokumentasi/evaluasi, error handling ada, old() untuk value persistence.
Seeder: OK, 3 dummy data, referensi ke AGT001-AGT003.
Route: Sudah ada Route::resource('program_kerja', ProgramKerjaController::class);.
2. Perubahan Kode
Modified: app/Http/Controllers/ProgramKerjaController.php

(Perbaiki bug relasi di destroy(): set null relasi sebelum hapus.)


<?php

namespace App\Http\Controllers;

use App\Models\ProgramKerja;
use App\Models\Anggota;
use App\Models\Notulen;
use App\Models\Dokumentasi;
use App\Models\Evaluasi;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;

class ProgramKerjaController extends Controller
{
    /**
     * Tampilkan daftar program kerja
     */
    public function index()
    {
        $programKerja = ProgramKerja::with('penanggungJawab')->get();
        return view('program_kerja.index', compact('programKerja'));
    }

    /**
     * Form tambah program kerja baru
     */
    public function create()
    {
        $last = ProgramKerja::orderBy('id', 'desc')->first();
        $nextCode = $last ? 'PRK' . str_pad((int) substr($last->id, 3) + 1, 3, '0', STR_PAD_LEFT) : 'PRK001';

        $anggota = Anggota::all();
        $notulenList = Notulen::all();
        $dokumentasiList = Dokumentasi::all();
        $evaluasiList = Evaluasi::all();

        return view('program_kerja.create', compact('nextCode', 'anggota', 'notulenList', 'dokumentasiList', 'evaluasiList'));
    }

    /**
     * Simpan program kerja baru
     */
    public function store(Request $request)
    {
        $request->validate([
            'nama' => 'required|string|max:255',
            'deskripsi' => 'nullable|string',
            'penanggung_jawab_id' => 'required|exists:anggota,id',
            'status' => 'required|in:belum,berlangsung,selesai',
            'notulen_id' => 'nullable|exists:notulen,id',
            'dokumentasi_ids' => 'nullable|array',
            'dokumentasi_ids.*' => 'exists:dokumentasi,id',
            'evaluasi_id' => 'nullable|exists:evaluasi,id',
        ]);

        $last = ProgramKerja::orderBy('id', 'desc')->first();
        $nextCode = $last ? 'PRK' . str_pad((int) substr($last->id, 3) + 1, 3, '0', STR_PAD_LEFT) : 'PRK001';

        DB::beginTransaction();
        try {
            $program = ProgramKerja::create([
                'id' => $nextCode,
                'nama' => $request->nama,
                'deskripsi' => $request->deskripsi,
                'penanggung_jawab_id' => $request->penanggung_jawab_id,
                'status' => $request->status,
            ]);

            // Hubungkan jika sudah ada
            if ($request->filled('notulen_id')) {
                $notulen = Notulen::find($request->notulen_id);
                $notulen->program_id = $program->id;
                $notulen->save();
            }

            if ($request->filled('evaluasi_id')) {
                $evaluasi = Evaluasi::find($request->evaluasi_id);
                $evaluasi->program_id = $program->id;
                $evaluasi->save();
            }

            if ($request->filled('dokumentasi_ids')) {
                Dokumentasi::whereIn('id', $request->dokumentasi_ids)->update(['program_id' => $program->id]);
            }

            DB::commit();
            return redirect()->route('program_kerja.index')->with('success', 'Program kerja berhasil ditambahkan!');
        } catch (\Exception $e) {
            DB::rollBack();
            return back()->with('error', 'Gagal menambah program kerja: ' . $e->getMessage());
        }
    }

    /**
     * Tampilkan detail program kerja
     */
    public function show(string $id)
    {
        $program = ProgramKerja::with(['penanggungJawab', 'notulen', 'dokumentasi', 'evaluasi'])->findOrFail($id);
        return view('program_kerja.show', compact('program'));
    }

    /**
     * Form edit program kerja
     */
    public function edit(string $id)
    {
        $program = ProgramKerja::with(['notulen', 'notulenUtama'])->findOrFail($id);
        $anggota = Anggota::all();
        $notulenList = Notulen::all();
        $dokumentasiList = Dokumentasi::all();
        $evaluasiList = Evaluasi::all();

        return view('program_kerja.edit', compact('program', 'anggota', 'notulenList', 'dokumentasiList', 'evaluasiList'));
    }

    /**
     * Update data program kerja
     */
    public function update(Request $request, string $id)
    {
        $request->validate([
            'nama' => 'required|string|max:255',
            'deskripsi' => 'nullable|string',
            'penanggung_jawab_id' => 'required|exists:anggota,id',
            'status' => 'required|in:belum,berlangsung,selesai',
            'notulen_id' => 'nullable|exists:notulen,id',
            'dokumentasi_ids' => 'nullable|array',
            'dokumentasi_ids.*' => 'exists:dokumentasi,id',
            'evaluasi_id' => 'nullable|exists:evaluasi,id',
        ]);

        DB::beginTransaction();
        try {
            $program = ProgramKerja::findOrFail($id);

            $program->update([
                'nama' => $request->nama,
                'deskripsi' => $request->deskripsi,
                'penanggung_jawab_id' => $request->penanggung_jawab_id,
                'status' => $request->status,
            ]);

            // Reset semua relasi dulu
            Notulen::where('program_id', $program->id)->update(['program_id' => null]);
            Dokumentasi::where('program_id', $program->id)->update(['program_id' => null]);
            Evaluasi::where('program_id', $program->id)->update(['program_id' => null]);

            // Hubungkan ulang jika ada input
            if ($request->filled('notulen_id')) {
                $notulen = Notulen::find($request->notulen_id);
                $notulen->program_id = $program->id;
                $notulen->save();
            }

            if ($request->filled('evaluasi_id')) {
                $evaluasi = Evaluasi::find($request->evaluasi_id);
                $evaluasi->program_id = $program->id;
                $evaluasi->save();
            }

            if ($request->filled('dokumentasi_ids')) {
                Dokumentasi::whereIn('id', $request->dokumentasi_ids)->update(['program_id' => $program->id]);
            }

            DB::commit();
            return redirect()->route('program_kerja.index')->with('success', 'Data program kerja berhasil diperbarui.');
        } catch (\Exception $e) {
            DB::rollBack();
            return back()->with('error', 'Gagal memperbarui data: ' . $e->getMessage());
        }
    }

    /**
     * Hapus program kerja
     */
    public function destroy(string $id)
    {
        $program = ProgramKerja::findOrFail($id);
        // Set null relasi sebelum hapus
        Notulen::where('program_id', $program->id)->update(['program_id' => null]);
        Dokumentasi::where('program_id', $program->id)->update(['program_id' => null]);
        Evaluasi::where('program_id', $program->id)->update(['program_id' => null]);
        $program->delete();

        return redirect()->route('program_kerja.index')->with('success', 'Program kerja berhasil dihapus.');
    }
}
3. Perintah yang Harus Dijalankan Dev Lokal
php artisan migrate (jika belum).
php artisan db:seed --class=ProgramKerjaSeeder (untuk data dummy, tapi seeder gagal karena ID duplikat, mungkin sudah ada data).
php artisan serve --host=127.0.0.1 --port=8000.
4. Daftar File yang Di-commit
Modified: app/Http/Controllers/ProgramKerjaController.php
5. Tes Manual Sederhana
Jalankan server: php artisan serve.
Buka browser ke http://127.0.0.1:8000/program_kerja.
Test CRUD: Tambah program, edit dengan pilih notulen/dokumentasi/evaluasi, lihat detail, hapus.
Pastikan relasi update/hapus bekerja (notulen/dokumentasi/evaluasi set null saat hapus program).
6. Jika Ada Perubahan Skema Destruktif
Tidak ada perubahan skema destruktif.

Modul Program Kerja selesai. Semua modul (Anggota, Rapat, Program Kerja) sudah diperbaiki. Audit selesai?

## ğŸ“ Struktur Halaman Web Organisasi

## ğŸ”‘ Halaman Admin

- [âœ…] Dashboard
  - [âœ…] Ringkasan data (anggota, rapat, program kerja, laporan)
- [âœ…] Halaman Anggota
  - [âœ…] Daftar anggota (CRUD)
  - [âœ…] Form tambah/edit/detail anggota
- [âœ…] Halaman Rapat
  - [âœ…] Daftar rapat (CRUD)
  - [âœ…] Form tambah/edit/detail rapat
- [âœ…] Halaman Program Kerja
  - [âœ…] Daftar program kerja (CRUD)
  - [âœ…] Form tambah/edit program kerja
- [âœ…] Halaman Notulen
  - [âœ…] Daftar notulen rapat (CRUD)
  - [âœ…] Form tambah/edit notulen
- [âœ…] Halaman Evaluasi
  - [âœ…] Daftar evaluasi program (CRUD)
  - [âœ…] Form tambah/edit evaluasi
- [âœ…] Halaman Dokumentasi
  - [âœ…] Upload galeri foto kegiatan
  - [âœ…] Kelola arsip kegiatan
- [âœ…] Halaman Kontak
  - [âœ…] Kelola pesan masuk dari form kontak
  - [âœ…] Kelola link media sosial

---

## ğŸ‘¥ Halaman User

- [âœ…] Halaman Depan
  - [âœ…] Profil organisasi singkat
- [âœ…] Halaman Tentang Kami
  - [âœ…] Sejarah singkat organisasi
  - [âœ…] Struktur organisasi + foto inti
  - [âœ…] Visi & misi
- [âœ…] Halaman Anggota
  - [âœ…] Daftar anggota (nama, kelas, jabatan, foto)
  - [âœ…] Detail anggota
- [âœ…] Halaman Rapat
  - [âœ…] Daftar rapat (judul, tanggal, tempat)
  - [âœ…] Detail rapat (info lengkap + notulen terkait)
- [âœ…] Halaman Program Kerja
  - [âœ…] Daftar program kerja (nama, deskripsi, status)
  - [âœ…] Detail program kerja
- [âœ…] Halaman Notulen
  - [âœ…] Daftar notulen rapat (judul rapat, tanggal, penulis)
  - [âœ…] Detail notulen (isi lengkap, unduh PDF opsional)
- [âœ…] Halaman Evaluasi
  - [âœ…] Daftar evaluasi program (program + status)
  - [âœ…] Detail evaluasi (catatan lengkap)
- [âœ…] Halaman Dokumentasi
  - [âœ…] Galeri foto kegiatan (grid)
  - [âœ…] Detail foto (lightbox) / kategori kegiatan
- [âœ…] Halaman Kontak
  - [âœ…] Form kontak sederhana (nama, email, pesan)
  - [âœ…] Link media sosial organisasi

ğŸ“Œ **Output Tahap 1**:

- Flowchart/DFD âœ…
- ERD Database âœ…
- Skema tabel + atribut âœ…
- Wireframe UI/UX dasar âœ…

---

## ğŸ”¹ Tahap 2 â€“ Setup Project (25â€“35%)

- [âœ…] Buat project Laravel baru (`laravel new osisweb`).
- [âœ…] Atur `.env` untuk SQLite database.
- [âœ…] Jalankan migrasi default Laravel (`php artisan migrate`).
- [âœ…] Tambahkan Bootstrap (via CDN / npm install).
- [âœ…] Uji apakah Laravel & Bootstrap berjalan.

---

## ğŸ”¹ Tahap 3 â€“ Database & Model (35â€“50%)

- [âœ…] Buat migration & model untuk setiap tabel:
  - [âœ…] Anggota
  - [âœ…] Rapat
  - [âœ…] Program Kerja
  - [âœ…] Notulen (relasi ke Rapat)
  - [âœ…] Evaluasi (relasi ke Program Kerja)
- [âœ…] Definisikan relasi antar model (`hasMany`, `belongsTo`).
- [âœ…] Jalankan `php artisan migrate:fresh`.
- [âœ…] Cek database di SQLite Browser (opsional).
- [âœ…] Tambahkan Seeder untuk data dummy (opsional).(php artisan make:seeder AnggotaSeeder/php artisan db:seed --class=AnggotaSeeder)

---

## ğŸ”¹ Tahap 4 â€“ CRUD Implementasi (50â€“75%)

### Anggota

- [âœ…] Route: index, create, store, edit, update, destroy.
- [âœ…] Controller: fungsi CRUD lengkap.
- [âœ…] View: tabel + form (Bootstrap).

### Rapat

- [âœ…] Route CRUD lengkap.
- [âœ…] Controller CRUD lengkap.
- [âœ…] View tabel + form.

### Program Kerja

- [âœ…] Route CRUD lengkap.
- [âœ…] Controller CRUD lengkap.
- [âœ…] View tabel + form.

### Notulen

- [âœ…] Route CRUD lengkap.
- [âœ…] Controller CRUD lengkap.
- [âœ…] View tabel + form.
- [âœ…] Pastikan terhubung dengan Rapat & Program Kerja.

### Evaluasi

- [âœ…] Route CRUD lengkap.
- [âœ…] Controller CRUD lengkap.
- [âœ…] View tabel + form.
- [âœ…] Pastikan terhubung dengan Program Kerja.

### Dokumentasi

- [âœ…] Route CRUD lengkap.
- [âœ…] Controller CRUD lengkap.
- [âœ…] View tabel + form.
- [âœ…] Pastikan terhubung dengan Rapat dan Program Kerja.

### Kontak

- [âœ…] Route CRUD lengkap.
- [âœ…] Controller CRUD lengkap.
- [âœ…] View tabel + form.

---

## ğŸ”¹ Tahap 5 â€“ Autentikasi & Middleware (75â€“85%)

- [ ] Install Laravel Breeze (atau Jetstream/Laravel UI).
- [ ] Buat login page dengan Bootstrap styling.
- [ ] Tambahkan middleware `auth` untuk halaman CRUD.
- [ ] Tambahkan role sederhana (Admin/User) jika perlu.

---

## ğŸ”¹ Tahap 6 â€“ UI/UX & Fitur Tambahan (85â€“95%)

- [ ] Rapikan tampilan dengan Bootstrap:
  - [ ] Navbar, Footer, Sidebar (opsional).
  - [ ] Card & Table untuk data.
  - [ ] Form responsif.
- [ ] Tambahkan fitur search & filter data.
- [ ] Tambahkan pagination untuk tabel.
- [ ] Tambahkan fitur export PDF/Excel untuk laporan.
- [ ] Pastikan website responsif di HP/laptop.

---

## ğŸ”¹ Tahap 7 â€“ Testing & Dokumentasi (95â€“100%)

- [ ] Uji coba semua fitur CRUD.
- [ ] Uji relasi antar data (Notulen â†” Rapat, Evaluasi â†” Program Kerja).
- [ ] Fix bug kecil (UI/logic).
- [ ] Buat dokumentasi/manual book:
  - [ ] Cara install & run project.
  - [ ] Cara login & CRUD data.
  - [ ] Cara export laporan.
- [ ] Buat presentasi singkat (PowerPoint/Canva):
  - [ ] Penjelasan sistem.
  - [ ] ERD & Flowchart.
  - [ ] Screenshot tampilan.
- [ ] Latihan menjelaskan kode & konsep (untuk penguasaan materi).

---

## âœ… Hasil Akhir

- Website organisasi sekolah dengan fitur:
  - Login Admin/User
  - CRUD Anggota, Rapat, Program Kerja, Notulen, Evaluasi
  - Laporan (PDF/Excel)
  - UI Bootstrap yang responsif
- Dokumentasi & presentasi siap untuk UKK

## Catatan

### Praktik Ideal Menyimpan Foto

Jangan simpan file gambar langsung dalam database (misal dalam bentuk BLOB) karena akan membuat ukuran database membengkak dan performa turun.

Simpan nama file atau path file di kolom foto. Contoh isi kolom: foto = anggota_123.jpg atau foto = uploads/anggota/anggota_123.jpg.

File fotonya sendiri di-upload dan disimpan di folder tertentu di server atau di storage Laravel (storage/app/public/foto_anggota misalnya).

### Alur Ideal

User upload foto lewat form CRUD.

File disimpan ke direktori storage/public/uploads/anggota (atau folder lain sesuai setting di Laravel).

Kolom foto di database hanya menyimpan nama file atau path file.

Saat menampilkan di website, gunakan `<img src="{{ asset('storage/uploads/anggota/'.$anggota->foto) }}">` pada view.

### Solusi & Saran

Gunakan storage Laravel: pastikan link storage di-public-kan dengan `php artisan storage:link`.

Simpan hanya path atau nama file di DB, bukan file gambar langsung.

Saat ingin menampilkan gambar, ambil path yang tersimpan di database dan buat src-nya pada tag img HTML.
